<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Widget</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<!-- Chat Widget Container -->
<div id="chat-widget" class="chat-widget">
    <!-- Chat Button -->
    <button id="chat-button" class="chat-button" aria-label="Open chat">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
    </button>

    <!-- Chat Container -->
    <div id="chat-container" class="chat-container hidden">
        <!-- Header -->
        <div class="chat-header">
            <span>Chat Support</span>
            <button id="close-chat" aria-label="Close chat">Ã—</button>
        </div>

        <!-- Messages Area -->
        <div id="chat-messages" class="chat-messages">
            <!-- Welcome Message -->
            <div class="message bot-message">
                Hello! How can I help you today?
            </div>

            <!-- Typing Indicator (Hidden by default) -->
            <div id="typing-indicator" class="typing-indicator hidden">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <!-- Input Area -->
        <div class="chat-input-container">
            <input 
                type="text" 
                id="chat-input" 
                placeholder="Type your message..." 
                aria-label="Chat message"
                autocomplete="off"
            >
            <button id="send-message" aria-label="Send message">
                Send
            </button>
        </div>
    </div>
</div>

<!-- Template for messages (Used by JavaScript) -->
<template id="message-template">
    <div class="message">
        <!-- Content will be inserted here by JavaScript -->
    </div>
</template>

<!-- Accessibility Features -->
<div id="chat-live-region" class="sr-only" aria-live="polite"></div>

<!-- Scripts -->
<script src="/static/bot.js"></script>

<!-- Optional: Analytics Script -->
<script>
    // You can add analytics tracking here
    function trackChatEvent(eventName, data) {
        if (window.analytics) {
            window.analytics.track(eventName, data);
        }
    }
</script>

<style>
    /* Screen reader only class */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        .bot-message {
            background: #2a2a2a;
            color: #ffffff;
        }
        
        .chat-container {
            background: #1a1a1a;
        }
        
        #chat-input {
            background: #2a2a2a;
            color: #ffffff;
            border-color: #404040;
        }
    }
</style>

</body>
</html>